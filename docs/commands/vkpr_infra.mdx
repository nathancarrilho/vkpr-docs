---
sidebar_position: 6
---

# VKPR Infra

## VKPR infra up

### Description

Create a k3d cluster using [VKPR infra start](#vkpr-infra-start) defaults.

### Commands

Non-Interactive:

```bash
  vkpr infra up
```

---

## VKPR infra start

### Description

Create a k3d cluster to test the applications.

### Commands

Interactive inputs:

```bash
  vkpr infra start
```

Non-interactive:

```bash
  vkpr infra start --http_port=8000 \
                   --https_port=8001 \
                   --enable_traefik=false
```

Non-interactive without setting values:

```bash
  vkpr infra start --default
```

### Parameters

```bash
  --http_port         Define HTTP port used by k3d.           Default: 8000
  --https_port        Define HTTPS port used by k3d.          Default: 8001
  --enable_traefik    Set traefik as the default ingress.     Default: false
  --default           Set all values with default.
```

### Values File Parameters

```jsx title="vkpr-values.yaml"
global:
  infra:
    http_port:  <Number>
    https_port: <Number>
    traefik:
      enabled:  <Boolean>
    resources:
      servers:  <Number>
      agents:   <Number>
```

---

## VKPR infra down

### Description

Destroy the k3d cluster.

### Commands

Interactive inputs:

```bash
  vkpr infra down
```

Non-interactive:

```bash
  vkpr infra down --delete_registry=false
```

Non-interactive without setting values:

```bash
  vkpr infra down --default
```

### Parameters

```bash
  --delete_registry   Delete Registry and Mirror Registry.   Default: false
  --default           Set all values with default.
```
